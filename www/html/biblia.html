<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bible Reader</title>
  <link rel="stylesheet" href="../css/biblia.css" />
  <link rel="stylesheet" href="../css/themes.css" />
  <link rel="stylesheet" href="../css/modals.css">
  <link rel="stylesheet" href="../css/highlighter.css" />
  <link rel="stylesheet" href="../css/menu.css">
</head>

<body>

  <script>
    (function () {
      const theme = localStorage.getItem('selectedTheme') || 'light-mode';
      document.body.classList.add(theme);
    })();
  </script>

  <div id="bible-reader">
    <header class="bible-header">
      <!-- Agora tudo está dentro de um único contêiner -->
      <div class="selectors">
        <!-- Itens da Esquerda -->
        <div class="version-selector" id="version-selector">Nvi</div>
        <div class="chapter-selector" id="chapter-selector">Gênesis 1</div>

        <!-- Separador -->
        <div class="spacer"></div>

        <!-- NOVO: Grupo para os botões da direita -->
        <div class="action-buttons-group">
          <button id="mark-book-as-read-btn" class="action-button" title="Marcar este livro como lido">
            <img src="../img/check-circle-icon.svg" alt="Marcar como lido" />
          </button>
          <button class="action-button save-page" aria-label="SavePageButton" title="Salvar capítulo">
            <img src="../img/bookmark-menu.svg" alt="Salvar capítulo" />
          </button>
          <button class="action-button font-size-button" aria-label="FontSizeButton" title="Ajustar fonte">
            <img src="../img/Font-size.svg" alt="Ajustar fonte" />
          </button>
        </div>
      </div>
    </header>

    <div id="content-title-header">
      <h1 id="content-book-title"></h1>
      <h2 id="content-chapter-title"></h2>
    </div>

    <article class="bible-content" id="bible-content"></article>
  </div>

  <!-- NOVO: Modal de Configurações de Leitura -->
  <div id="reading-settings-modal" class="dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <h2>Configurações de Leitura</h2>
        <button class="close-button" data-modal-id="reading-settings-modal">×</button>
      </div>
      <div class="dialog-body">
        <!-- Tamanho da Fonte -->
        <div class="setting-control">
          <label>Tamanho da Fonte</label>
          <div class="font-size-control">
            <button id="decrease-font">A-</button>
            <span id="font-size-preview">Aa</span>
            <button id="increase-font">A+</button>
          </div>
        </div>
        <!-- Espaçamento -->
        <div class="setting-control">
          <label for="line-height-slider">Espaçamento entre Linhas</label>
          <input type="range" id="line-height-slider" min="1.4" max="2.6" step="0.2">
        </div>
        <!-- Brilho -->
        <div class="setting-control">
          <label for="brightness-slider">Brilho da Tela</label>
          <input type="range" id="brightness-slider" min="0.5" max="1.0" step="0.05">
        </div>
      </div>
    </div>
  </div>

  <!-- Version Dialog -->
  <div id="version-dialog" class="dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <h2>Selecione sua versão da Bíblia</h2>
        <button class="close-button">×</button>
      </div>
      <div class="dialog-body">
        <select id="version-select">
          <option value="nvi">Nvi</option>
          <option value="acf">Acf</option>
          <option value="ra">Ra</option>
          <option value="bbe">Bbe (Inglês)</option>
          <option value="kjv">Kjv (Inglês)</option>
          <option value="rvr">Rvr (Espanhol)</option>
          <option value="apee">Apee (Russo)</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Book Dialog -->
  <div id="book-dialog" class="dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <h2>Livro</h2>
        <button class="close-button">×</button>
      </div>
      <div class="dialog-body">
        <div class="book-category">
          <h3>Pentateuco</h3>
          <div class="book-list">
            <button class="book-item" data-book="gn">Gênesis</button>
            <button class="book-item" data-book="ex">Êxodo</button>
            <button class="book-item" data-book="lv">Levítico</button>
            <button class="book-item" data-book="nm">Números</button>
            <button class="book-item" data-book="dt">Deuteronômio</button>
          </div>
        </div>
        <div class="book-category">
          <h3>Históricos</h3>
          <div class="book-list">
            <button class="book-item" data-book="js">Josué</button>
            <button class="book-item" data-book="jz">Juízes</button>
            <button class="book-item" data-book="rt">Rute</button>
            <button class="book-item" data-book="1°sm">1° Samuel</button>
            <button class="book-item" data-book="2°sm">2° Samuel</button>
            <button class="book-item" data-book="1°rs">1° Reis</button>
            <button class="book-item" data-book="2°rs">2° Reis</button>
            <button class="book-item" data-book="1°cr">1° Crônicas</button>
            <button class="book-item" data-book="2°cr">2° Crônicas</button>
            <button class="book-item" data-book="ed">Esdras</button>
            <button class="book-item" data-book="ne">Neemias</button>
            <button class="book-item" data-book="et">Ester</button>
          </div>
        </div>
        <div class="book-category">
          <h3>Poéticos</h3>
          <div class="book-list">
            <button class="book-item" data-book="job">Jó</button>
            <button class="book-item" data-book="sl">Salmos</button>
            <button class="book-item" data-book="pv">Provérbios</button>
            <button class="book-item" data-book="ec">Eclesiastes</button>
            <button class="book-item" data-book="ct">Cantares</button>
          </div>
        </div>

        <div class="book-category">
          <h3>Profetas Maiores</h3>
          <div class="book-list">
            <button class="book-item" data-book="is">Isaías</button>
            <button class="book-item" data-book="jr">Jeremias</button>
            <button class="book-item" data-book="lm">Lamentações</button>
            <button class="book-item" data-book="ez">Ezequiel</button>
            <button class="book-item" data-book="dn">Daniel</button>
          </div>
        </div>

        <div class="book-category">
          <h3>Profetas Menores</h3>
          <div class="book-list">
            <button class="book-item" data-book="os">Oséias</button>
            <button class="book-item" data-book="jl">Joel</button>
            <button class="book-item" data-book="am">Amós</button>
            <button class="book-item" data-book="ob">Obadias</button>
            <button class="book-item" data-book="jn">Jonas</button>
            <button class="book-item" data-book="mq">Miquéias</button>
            <button class="book-item" data-book="na">Naum</button>
            <button class="book-item" data-book="hb">Habacuque</button>
            <button class="book-item" data-book="sf">Sofonias</button>
            <button class="book-item" data-book="ag">Ageu</button>
            <button class="book-item" data-book="zc">Zacarias</button>
            <button class="book-item" data-book="ml">Malaquias</button>
          </div>
        </div>

        <div class="book-category">
          <h3>Evangelhos</h3>
          <div class="book-list">
            <button class="book-item" data-book="mt">Mateus</button>
            <button class="book-item" data-book="mc">Marcos</button>
            <button class="book-item" data-book="lc">Lucas</button>
            <button class="book-item" data-book="jo">João</button>
          </div>
        </div>

        <div class="book-category">
          <h3>História</h3>
          <div class="book-list">
            <button class="book-item" data-book="at">Atos</button>
          </div>
        </div>

        <div class="book-category">
          <h3>Cartas de Paulo</h3>
          <div class="book-list">
            <button class="book-item" data-book="rm">Romanos</button>
            <button class="book-item" data-book="1°co">1° Coríntios</button>
            <button class="book-item" data-book="2°co">2° Coríntios</button>
            <button class="book-item" data-book="gl">Gálatas</button>
            <button class="book-item" data-book="ef">Efésios</button>
            <button class="book-item" data-book="fp">Filipenses</button>
            <button class="book-item" data-book="cl">Colossenses</button>
            <button class="book-item" data-book="1°ts">1° Tessalonicenses</button>
            <button class="book-item" data-book="2°ts">2° Tessalonicenses</button>
            <button class="book-item" data-book="1°tm">1° Timóteo</button>
            <button class="book-item" data-book="2°tm">2° Timóteo</button>
            <button class="book-item" data-book="tt">Tito</button>
            <button class="book-item" data-book="fl">Filemom</button>
          </div>
        </div>

        <div class="book-category">
          <h3>Cartas Gerais</h3>
          <div class="book-list">
            <button class="book-item" data-book="hb">Hebreus</button>
            <button class="book-item" data-book="tg">Tiago</button>
            <button class="book-item" data-book="1°pe">1° Pedro</button>
            <button class="book-item" data-book="2°pe">2° Pedro</button>
            <button class="book-item" data-book="1°jo">1° João</button>
            <button class="book-item" data-book="2°jo">2° João</button>
            <button class="book-item" data-book="3°jo">3° João</button>
            <button class="book-item" data-book="jd">Judas</button>
          </div>
        </div>

        <div class="book-category">
          <h3>Profecia</h3>
          <div class="book-list">
            <button class="book-item" data-book="ap">Apocalipse</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Chapter Dialog -->
  <div id="chapter-dialog" class="dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <h2>Capítulo</h2>
        <button class="close-button">×</button>
      </div>
      <div class="dialog-body">
        <div id="chapter-grid" class="chapter-grid"></div>
      </div>
    </div>
  </div>

  <!-- Verse Dialog -->
  <div id="verse-dialog" class="dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <h2>Versículo</h2>
        <button class="close-button">×</button>
      </div>
      <div class="dialog-body">
        <div id="verse-grid" class="verse-grid"></div>
      </div>
    </div>
  </div>

  <div id="theme-modal" class="dialog">
    <div class="dialog-content">
      <div class="dialog-header">
        <h2>Escolha um Tema</h2>
        <button id="close-theme-modal" class="close-button">×</button>
      </div>
      <div class="dialog-body" id="theme-options">
        <button class="theme-option-btn" data-theme="light-mode">Claro</button>
        <button class="theme-option-btn" data-theme="dark-mode">Escuro</button>
        <button class="theme-option-btn" data-theme="sepia-mode">Sépia</button>
      </div>
    </div>
  </div>

  <!-- NOVO: Dica de Swipe -->
  <div id="swipe-hint">
    <!-- Você precisará de um ícone para o gesto de swipe. Pode ser uma mão ou setas -->
    <!-- Salve-o como 'swipe-gesture-icon.svg' na sua pasta 'img' -->
    <img src="../img/swipe-gesture-icon.svg" alt="Gesto de deslizar">
    <p>Deslize para navegar</p>
  </div>

  <div id="overlay" class="overlay"></div>

  <nav class="bottom-nav">
    <a href="home2.html" class="nav-item">
      <img src="../img/home-menu.svg" alt="Home" class="nav-icon">
      <span>Início</span>
    </a>
    <a href="biblia.html" class="nav-item">
      <img src="../img/book-menu.svg" alt="Bíblia" class="nav-icon">
      <span>Bíblia</span>
    </a>
    <a href="tl1-teologia.html" class="nav-item">
      <img src="../img/graduation-menu.svg" alt="Teologia" class="nav-icon teologia-img">
      <span>Trilha</span>
    </a>
    <a href="saves.html" class="nav-item">
      <img src="../img/bookmark-menu.svg" alt="Salvos" class="nav-icon">
      <span>Salvos</span>
    </a>
    <a href="opcoes.html" class="nav-item">
      <img src="../img/options-menu.svg" alt="Mais" class="nav-icon">
      <span>Opções</span>
    </a>
  </nav>

  <!-- ORDEM CORRETA DOS SCRIPTS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/localforage/1.10.0/localforage.min.js"></script>
  <script src="../js/auth-guard.js"></script>
  <script src="../js/saves-manager.js"></script>
  <script src="../js/highlighter.js"></script>

  <!-- 5. Outros scripts -->
  <script src="../js/theme-manager.js" defer></script>
  <script src="../js/reading-settings-manager.js"></script>

  <script src="../js/biblia.js" defer></script>
</body>

</html>